The system prompt is designed to make the assistant behave more like a legal helper than just a template filler. Instead of jumping straight into drafting, it guides the model to ask questions, confirm details, and only generate documents once all required information is collected. It also prevents the use of placeholders, which pushes the assistant to slow down and get concrete answers before moving forward. For each document type, like NDAs or employment agreements,the prompt clearly lists the information the assistant must gather. This helps make the interaction feel more structured and professional, even when the user provides details in a casual way.

The functions I implemented follow the same idea: gather information first, then draft, then revise. The extract_information function stores the user’s answers in a single shared state, so the assistant gradually builds up everything it needs. Once all required fields are captured, the generate_document function uses that stored data to create a complete legal draft based on predefined templates. The apply_edits function is meant to let users fix or update details in natural language by adjusting only the relevant parts of the document instead of recreating it from scratch. Editing is still the roughest part of the system, some changes work, others (large changes like reusing the information to create a new type of document) don’t map cleanly back to the fields yet, and in a few cases the assistant tries to regenerate the full document when it shouldn’t. With more time, I would clean up the logic for updating fields and keeping the draft consistent.

Streaming and function calling together added a few practical challenges. The system needs to show partial responses to the user while still allowing the model to switch into a function call whenever it decides it has enough information. Handling those transitions smoothly took some trial and error, and sometimes the streamed text would get interrupted or the assistant would jump into a function call earlier than expected. I fixed most of the major issues, but a few edge cases still cause the stream to pause or restart awkwardly.

Even with the remaining bugs, the main workflow works: the assistant collects details, generates a proper document, and supports basic edits. If I had more time, I’d focus on stabilizing the editing flow and tightening up the UI, but overall the system demonstrates the intended structure and behavior.